on:
  push:
    branches:
      - main

jobs:
  contrib-readme-job:
    runs-on: ubuntu-latest
    name: A job to automate contrib in readme
    permissions:
      contents: write
      pull-requests: write
    # Security notes:
    # - Use minimal permissions for actions (grant write only when required)
    # - SHA pinning is enforced in CI for key actions to reduce supply-chain risk
    steps:
      - name: Contribute List
        # SHA-pinned for supply-chain security
        uses: akhilmhdh/contributors-readme-action@83ea0b4f1ac928fbfe88b9e8460a932a528eb79f # v2.3.11
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

  # Contributor README Automation
  # Runs on push to main branch only
  # Updates README.md with contributor avatars and links
  # Security: SHA-pinned action, minimal permissions (contents:write, pull-requests:write), no secrets used
  # No code execution from untrusted sources; safe for pull_request_target if needed (but uses push trigger)
  #
  # Note: Linux Mint 22 (Ubuntu 24.04) compatibility testing, SLSA attestations, Trivy scanning, and OIDC authentication examples are documented only in docs/security/github-actions-hardening.md and won't be mirrored here to keep this workflow focused on contributor README automation.
