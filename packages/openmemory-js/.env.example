# OpenMemory Configuration
# Copy this file to .env and adjust as needed.
# All variables are prefixed with OM_ to avoid collisions.

# --- Core Server ---
OM_PORT=8080
OM_MODE=standard
# Environment: production, development, test
NODE_ENV=production
# Log Level: debug, info, warn, error
OM_LOG_LEVEL=info

# --- Security ---
# Enable encryption for stored memories (AES-256-GCM)
OM_ENCRYPTION_ENABLED=false
# Required if encryption is enabled. Must be a secure random string.
# OM_ENCRYPTION_KEY=
# Secondary keys for rotation (comma-separated)
# OM_ENCRYPTION_SECONDARY_KEYS=
# Salt for encryption (Must be unique for your instance)
OM_ENCRYPTION_SALT=

# Auth & Rate Limiting
OM_NO_AUTH=false
OM_LOG_AUTH=false
OM_RATE_LIMIT_ENABLED=true
OM_RATE_LIMIT_WINDOW_MS=60000
OM_RATE_LIMIT_MAX_REQUESTS=100
OM_TRUST_PROXY=false

# API Key Protection (Optional but recommended)
# OM_API_KEY=
# OM_ADMIN_KEY=

# --- Database ---
OM_DB_PATH=./data/openmemory.sqlite
# Vector Backend: sqlite (default), pg, chroma
OM_VECTOR_BACKEND=sqlite
# Metadata Backend: sqlite (default), pg
OM_METADATA_BACKEND=sqlite

# --- AI Providers ---
# Embedding Model: local (default), openai, gemini, etc.
OM_EMBED_KIND=local
# Fallback strategy (comma-separated)
OM_EMBEDDING_FALLBACK=synthetic

# OpenAI
# OM_OPENAI_API_KEY=
# OM_OPENAI_MODEL=gpt-4o

# Gemini
# OM_GEMINI_API_KEY=
# OM_GEMINI_MODEL=gemini-1.5-flash

# Anthropic
# OM_ANTHROPIC_API_KEY=
# OM_ANTHROPIC_MODEL=claude-3-5-sonnet-latest

# Ollama (Local)
OM_OLLAMA_URL=http://localhost:11434
OM_OLLAMA_MODEL=llama3.2
OM_OLLAMA_EMBED_MODEL=nomic-embed-text
OM_OLLAMA_TIMEOUT=60000
# GPU count for Ollama
OM_OLLAMA_NUM_GPU=1

# --- Performance & Tier ---
# Tier: fast, smart, deep, hybrid (default)
OM_TIER=hybrid
OM_CACHE_SEGMENTS=8
OM_MAX_ACTIVE=100

# --- Vector Store ---
OM_VEC_DIM=768
OM_MIN_SCORE=0.3
OM_VECTOR_CACHE_SIZE_MB=512

# --- Temporal Graph ---
OM_GRAPH_TEMPORAL_WINDOW=2592000000 # 30 days
OM_GRAPH_CACHE_SIZE=10000

# --- Advanced ---
# Enable IDE features (experimental)
OM_IDE_MODE=false
OM_IDE_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# Telemetry (Anonymous usage data)
OM_TELEMETRY=true
OM_TELEMETRY_ENDPOINT=https://telemetry.spotit.dev

# --- Connectors ---
# OM_GITHUB_TOKEN=
# OM_NOTION_API_KEY=
